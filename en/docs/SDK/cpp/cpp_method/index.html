<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-SDK/cpp/cpp_method" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">SDK-C++ 方法说明 | Rokae DOC</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://starry05.github.io/Docs/en/Logo/珞石_logo_红底.jpg"><meta data-rh="true" name="twitter:image" content="https://starry05.github.io/Docs/en/Logo/珞石_logo_红底.jpg"><meta data-rh="true" property="og:url" content="https://starry05.github.io/Docs/en/docs/SDK/cpp/cpp_method"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SDK-C++ 方法说明 | Rokae DOC"><meta data-rh="true" name="description" content="本文档说明介绍C++方法"><meta data-rh="true" property="og:description" content="本文档说明介绍C++方法"><link data-rh="true" rel="icon" href="/Docs/en/Logo/珞石_logo_红底.jpg"><link data-rh="true" rel="canonical" href="https://starry05.github.io/Docs/en/docs/SDK/cpp/cpp_method"><link data-rh="true" rel="alternate" href="https://starry05.github.io/Docs/docs/SDK/cpp/cpp_method" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://starry05.github.io/Docs/en/docs/SDK/cpp/cpp_method" hreflang="en"><link data-rh="true" rel="alternate" href="https://starry05.github.io/Docs/docs/SDK/cpp/cpp_method" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"SDK","item":"https://starry05.github.io/Docs/en/docs/SDK"},{"@type":"ListItem","position":2,"name":"C++ SDK","item":"https://starry05.github.io/Docs/en/docs/SDK/cpp"},{"@type":"ListItem","position":3,"name":"SDK-C++方法说明","item":"https://starry05.github.io/Docs/en/docs/SDK/cpp/cpp_method"}]}</script><link rel="alternate" type="application/rss+xml" href="/Docs/en/blog/rss.xml" title="Rokae DOC RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Docs/en/blog/atom.xml" title="Rokae DOC Atom Feed">




<script src="/js/mathjax.js" async></script><link rel="stylesheet" href="/Docs/en/assets/css/styles.9024f942.css">
<script src="/Docs/en/assets/js/runtime~main.1302e178.js" defer="defer"></script>
<script src="/Docs/en/assets/js/main.fbf53d78.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Docs/en/Logo/珞石_logo_红底.jpg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Docs/en/"><div class="navbar__logo"><img src="/Docs/en/Logo/珞石_logo_红底.jpg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Docs/en/Logo/珞石_logo_红底.jpg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Rokea Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Docs/en/docs/">教程</a><a class="navbar__item navbar__link" href="/Docs/en/blog">博客</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/Docs/docs/SDK/cpp/cpp_method" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li><li><a href="/Docs/en/docs/SDK/cpp/cpp_method" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/Docs/en/docs/SDK/cpp/cpp_method">Current</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Docs/en/docs/SDK/cpp/cpp_method">Current</a></li><li><a class="dropdown__link" href="/Docs/en/docs/1.0.0/intro">Current</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/en/docs/">概述</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/Docs/en/docs/HMI">HMI</a><button aria-label="Expand sidebar category &#x27;HMI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Docs/en/docs/SDK">SDK</a><button aria-label="Collapse sidebar category &#x27;SDK&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/SDK_Intro">SDK简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/quick_start">快速开始</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/Docs/en/docs/SDK/cpp">C++ SDK</a><button aria-label="Collapse sidebar category &#x27;C++ SDK&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_Intro">SDK-C++简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_API">SDK-C++接口说明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_error">错误码和异常说明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_problem">注意事项与问题排查</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_example">使用示例</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_class">附录 C++ 类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_data">附录 C++ 数据结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Docs/en/docs/SDK/cpp/cpp_method">SDK-C++方法说明</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/Docs/en/docs/SDK/python">Python SDK</a><button aria-label="Expand sidebar category &#x27;Python SDK&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/Docs/en/docs/SDK/cs">C# SDK</a><button aria-label="Expand sidebar category &#x27;C# SDK&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/en/docs/DownLoad">软件/文档资源下载</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Docs/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/Docs/en/docs/SDK"><span>SDK</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/Docs/en/docs/SDK/cpp"><span>C++ SDK</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SDK-C++方法说明</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Current</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>方法</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-机器人基本操作及信息查询">1 机器人基本操作及信息查询<a href="#1-机器人基本操作及信息查询" class="hash-link" aria-label="Direct link to 1 机器人基本操作及信息查询" title="Direct link to 1 机器人基本操作及信息查询">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecttorobot-12">connectToRobot() [1/2]<a href="#connecttorobot-12" class="hash-link" aria-label="Direct link to connectToRobot() [1/2]" title="Direct link to connectToRobot() [1/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">connectToRobot</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>建立与机器人的连接。机器人地址为创建robot 实例时传入的</p>
<ul>
<li>参数：[out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecttorobot-22">connectToRobot() [2/2]<a href="#connecttorobot-22" class="hash-link" aria-label="Direct link to connectToRobot() [2/2]" title="Direct link to connectToRobot() [2/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">connectToRobot</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">remoteIP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">localIP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">连接到机器人</span><br></span></code></pre></div></div>
<ul>
<li>参数：<!-- -->
<ul>
<li><code>remoteIP</code> 机器人 IP 地址</li>
<li><code>localIP</code>  本机地址。实时模式下收发交互数据用，可不设置；PCB3 /4 轴机型不支持 |</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disconnectfromrobot">disconnectFromRobot()<a href="#disconnectfromrobot" class="hash-link" aria-label="Direct link to disconnectFromRobot()" title="Direct link to disconnectFromRobot()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">disconnectFromRobot</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>断开与机器人连接。断开前会停止机器人运动，请注意安全</p>
<ul>
<li>参数： [out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="robotinfo">robotInfo()<a href="#robotinfo" class="hash-link" aria-label="Direct link to robotInfo()" title="Direct link to robotInfo()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Info rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">robotInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><br></span></code></pre></div></div>
<p>查询机器人基本信息</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 机器人基本信息（控制器版本，机型，轴数）</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="powerstate">powerState()<a href="#powerstate" class="hash-link" aria-label="Direct link to powerState()" title="Direct link to powerState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PowerState rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">powerState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><br></span></code></pre></div></div>
<p>机器人上下电以及急停状态</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回：<!-- -->
<ul>
<li>on - 上电</li>
<li>off - 下电</li>
<li>estop - 急停</li>
<li>gstop - 安全门打开</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setpowerstate">setPowerState()<a href="#setpowerstate" class="hash-link" aria-label="Direct link to setPowerState()" title="Direct link to setPowerState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setPowerState</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> on</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>机器人上下电。注：只有无外接使能开关或示教器的机器人才能手动模式上电。</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] on: true-上电｜false-下电</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operatemode">operateMode()<a href="#operatemode" class="hash-link" aria-label="Direct link to operateMode()" title="Direct link to operateMode()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OperateMode rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">operateMode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token keyword" style="color:#00009f">const</span><br></span></code></pre></div></div>
<p>查询机器人当前操作模式</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回：   手动｜自动</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setoperatemode">setOperateMode()<a href="#setoperatemode" class="hash-link" aria-label="Direct link to setOperateMode()" title="Direct link to setOperateMode()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setOperateMode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> OperateMode mode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>切换手自动模式</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] mode: manual - 手动/ automatic - 自动</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operationstate">operationState()<a href="#operationstate" class="hash-link" aria-label="Direct link to operationState()" title="Direct link to operationState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OperationState rokae</span><span class="token operator" style="color:#393A34">:</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">operationState</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><br></span></code></pre></div></div>
<p>查询机器人当前运行状态（空闲，运动中，拖动开启等）</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 运行状态枚举类</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="posture">posture()<a href="#posture" class="hash-link" aria-label="Direct link to posture()" title="Direct link to posture()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">lt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">6</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">gt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">posture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CoordinateType ct</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span></code></pre></div></div>
<p>获取机器人法兰或末端的当前位姿</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] ct 坐标系类型<!-- -->
<ul>
<li><code>flangeInBase</code>：法兰相对于基坐标系；</li>
<li><code>endInRef</code> ：末端相对于外部参考坐标系。例如，当设置了手持工具及外部工件后，该坐标系类型 - 返回：的是工具相对于工件坐标系的坐标。</li>
</ul>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： double 数组，[X , Y , Z , Rx , Ry , Rz ]，其中平移量单位为米旋转量单位为弧度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cartposture">cartPosture()<a href="#cartposture" class="hash-link" aria-label="Direct link to cartPosture()" title="Direct link to cartPosture()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CartesianPosition rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">cartPosture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CoordinateType ct</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>获取机器人法兰或末端的当前位姿</p>
<ul>
<li>参数： ：<!-- -->
<ul>
<li>[in] ct 坐标系类型</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回：当前笛卡尔位置</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jointpos-12">jointPos() [1/2]<a href="#jointpos-12" class="hash-link" aria-label="Direct link to jointPos() [1/2]" title="Direct link to jointPos() [1/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">jointPos</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>机器人当前轴角度, 单位: 弧度</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 轴角度值</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jointpos-22">jointPos() [2/2]<a href="#jointpos-22" class="hash-link" aria-label="Direct link to jointPos() [2/2]" title="Direct link to jointPos() [2/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">jointPos</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>机器人当前轴角度, 机器人本体+外部轴, 单位: 弧度, 外部轴导轨,单位米</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 关节角度值，和外部轴值</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jointvel-12">jointVel() [1/2]<a href="#jointvel-12" class="hash-link" aria-label="Direct link to jointVel() [1/2]" title="Direct link to jointVel() [1/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">jointVel</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>机器人当前关节速度，单位：弧度/秒</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 关节速度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jointvel-22">jointVel() [2/2]<a href="#jointvel-22" class="hash-link" aria-label="Direct link to jointVel() [2/2]" title="Direct link to jointVel() [2/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain"> </span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">jointVel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>机器人当前关节速度, 机器人本体+外部轴，单位：弧度/秒,外部轴单位米/秒</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 关节速度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getstatelist">getStateList()<a href="#getstatelist" class="hash-link" aria-label="Direct link to getStateList()" title="Direct link to getStateList()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">StateList rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getStateList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>查询当前位置, IO 信号, 操作模式, 速度覆盖值</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 查询结果</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jointtorque">jointTorque()<a href="#jointtorque" class="hash-link" aria-label="Direct link to jointTorque()" title="Direct link to jointTorque()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">jointTorque</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>关节力传感器数值，单位: Nm</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 力矩值</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="baseframe">baseFrame()<a href="#baseframe" class="hash-link" aria-label="Direct link to baseFrame()" title="Direct link to baseFrame()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">baseFrame</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><br></span></code></pre></div></div>
<p>用户定义的基坐标系, 相对于世界坐标系</p>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： double 数组, [X, Y, Z, Rx, Ry, Rz]，其中平移量单位为米旋转量单位为弧度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setbaseframe">setBaseFrame()<a href="#setbaseframe" class="hash-link" aria-label="Direct link to setBaseFrame()" title="Direct link to setBaseFrame()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setBaseFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Frame </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置基坐标系, 设置后仅保存数值，重启控制器后生效</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] frame 坐标系，默认使用自定义安装方式</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="toolset">toolset()<a href="#toolset" class="hash-link" aria-label="Direct link to toolset()" title="Direct link to toolset()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Toolset rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain"> </span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">toolset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><br></span></code></pre></div></div>
<p>查询当前工具工件组信息</p>
<blockquote>
<p>注解 此工具工件组仅为 SDK 运动控制使用, 不与 RL 工程相关</p>
</blockquote>
<ul>
<li>参数： [out] ec: 错误码</li>
<li>返回： 见 Toolset 数据结构</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="settoolset">setToolset()<a href="#settoolset" class="hash-link" aria-label="Direct link to setToolset()" title="Direct link to setToolset()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain"> </span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setToolset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Toolset </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> toolset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置工具工件组信息</p>
<blockquote>
<p>注解 此工具工件组仅为SDK运动控制使用, 不与RL工程相关。设置后RobotAssist右上角会显示“toolx&quot;, &quot;wobjx&quot;, 状态监控显示的末端坐标也会变化。除此接口外, 如果通过 RobotAssist 更改默认工具工件(右上角的选项), 该工具工件组也会相应更改.</p>
</blockquote>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] toolset 工具工件组信息</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="settoolset-1">setToolset()<a href="#settoolset-1" class="hash-link" aria-label="Direct link to setToolset()" title="Direct link to setToolset()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain"> </span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setToolset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">toolName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">wobjName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>使用已创建的工具和工件，设置工具工件组信息</p>
<blockquote>
<p>注解  设置前提: 已加载一个 RL 工程，且创建了工具和工件。否则，只能设置为默认的工具工件，即&quot;tool0&quot;和&quot;wobj0&quot;。一组工具工件无法同时为手持或外部；如果有冲突，以工具的位置为准，例如,工具工件同时为手持，不会返回错误，但是工件的坐标系变成了外部</p>
</blockquote>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] toolName 工具名称</li>
<li>[in] wobjName 工件名称</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calcik-12">calcIk() [1/2]<a href="#calcik-12" class="hash-link" aria-label="Direct link to calcIk() [1/2]" title="Direct link to calcIk() [1/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JointArray rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Model_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">calcIk</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CartesianPosition posture</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>根据位姿计算逆解</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] posture 机器人末端位姿，相对于外部参考坐标系</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： 轴角度, 单位:弧度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calcik-22">calcIk() [2/2]<a href="#calcik-22" class="hash-link" aria-label="Direct link to calcIk() [2/2]" title="Direct link to calcIk() [2/2]">​</a></h3>
<div class="language-CPP language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JointArray rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Model_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">calcIk</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CartesianPosition posture</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Toolset </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> toolseterror_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>根据位姿计算给定工具工件坐标系下逆解</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] posture 机器人末端位姿，相对于外部参考坐标系</li>
<li>[in] toolset 工具工件组信息</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： 轴角度, 单位:弧度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calcfk">calcFk()<a href="#calcfk" class="hash-link" aria-label="Direct link to calcFk()" title="Direct link to calcFk()">​</a></h3>
<div class="language-CPP language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CartesianPosition rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Model_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">calcFk</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> JointArray </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> joints</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>根据轴角度计算正解</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] joints 轴角度, 单位: 弧度</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： 机器人末端位姿，相对于外部参考坐标系</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calcfk-1">calcFk()<a href="#calcfk-1" class="hash-link" aria-label="Direct link to calcFk()" title="Direct link to calcFk()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CartesianPosition rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Model_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">calcFk</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> JointArray </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> joints</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Toolset </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> toolset error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>根据轴角度计算给定工具工件坐标系下正解</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] joints 轴角度, 单位: 弧度</li>
<li>[in] toolset 工具工件组信息</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： 机器人末端位姿，相对于外部参考坐标系</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="settoolset-2">setToolset()<a href="#settoolset-2" class="hash-link" aria-label="Direct link to setToolset()" title="Direct link to setToolset()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain"> </span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setToolset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">toolName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">wobjName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>使用已创建的工具和工件，设置工具工件组信息</p>
<ul>
<li>注解 设置前提:<!-- -->
<ol>
<li>使用 RL 工程中创建的工具工件: 需要先加载对应 RL 工程;</li>
<li>全局工具工件: 无需加载工程，直接调用即可。e.g. <code>setToolset(&quot;g_tool_0&quot;, &quot;g_wobj_0&quot;)</code>
一组工具工件无法同时为手持或外部；如果有冲突，以工具的位置为准，例如工具工件同时为手持，不会返回错误，但是工件的坐标系变成了外部</li>
</ol>
</li>
<li>参数：<!-- -->
<ul>
<li>[in] toolName 工具名称</li>
<li>[in] wobjName 工件名称</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calibrateframe-">calibrateFrame ()<a href="#calibrateframe-" class="hash-link" aria-label="Direct link to calibrateFrame ()" title="Direct link to calibrateFrame ()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FrameCalibrationResult rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">calibrateFrame</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FrameType type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> is_held</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> base_aux </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>坐标系标定 (N 点标定)</p>
<ul>
<li>注解 各坐标系类型支持的标定方法及注意事项：<!-- -->
<ol>
<li>工具坐标系: 三点/四点/六点标定法</li>
<li>工件坐标系: 三点标定。标定结果不会相对用户坐标系做变换，即，若为外部工件， - 返回：的结果是相对于基坐标系的。</li>
<li>基坐标系: 六点标定。标定前请确保动力学约束和前馈已关闭。 若标定成功(无错误码)，控制器会自动保存标定结果，重启控制器后生效。</li>
<li>导轨基坐标系: 三点标定。若标定成功(无错误码)，控制器会自动保存标定结果，重启控制器后生效。</li>
</ol>
</li>
<li>参数：<!-- -->
<ul>
<li>[in] points 轴角度列表，列表长度为 N。例如，使用三点法标定工具坐标系，应传入 3 组轴角度。轴角度的单位是弧度。</li>
<li>[in] is_held true - 机器人手持 | false - 外部。仅影响工具/工件的标定</li>
<li>[in] base_aux 基坐标系标定时用到的辅助点, 单位[米]</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： 标定结果，当错误码没有被置位时，标定结果有效</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clearservoalarm">clearServoAlarm()<a href="#clearservoalarm" class="hash-link" aria-label="Direct link to clearServoAlarm()" title="Direct link to clearServoAlarm()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">clearServoAlarm</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>清除伺服报警</p>
<ul>
<li>参数：[out] ec: 错误码，当有伺服报警且清除失败的情况下错误码置为-1</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enablecollisiondetection">enableCollisionDetection()<a href="#enablecollisiondetection" class="hash-link" aria-label="Direct link to enableCollisionDetection()" title="Direct link to enableCollisionDetection()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">Cobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">enableCollisionDetection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sensitivity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">StopLevel behaviour</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> fallback_compliance</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置碰撞检测相关参数, 打开碰撞检测功能</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] sensitivity 碰撞检测灵敏度，范围 0.01-2.0</li>
<li>[in] behaviour 碰撞后机器人行为, 支持 stop1(安全停止, stop0 和 stop1 处理方式相同)和 stop2(触发暂停）, suppleStop(柔顺停止)</li>
<li>[in] fallback_compliance<!-- -->
<ol>
<li>碰撞后行为是安全停止或触发暂停时，该参数含义是碰撞后回退距离，单位: 米</li>
<li>碰撞后行为是柔顺停止时，该参数含义是柔顺度，范围 [0.0, 1.0]</li>
</ol>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disablecollisiondetection">disableCollisionDetection()<a href="#disablecollisiondetection" class="hash-link" aria-label="Direct link to disableCollisionDetection()" title="Direct link to disableCollisionDetection()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">BaseCobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">disableCollisionDetection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>关闭碰撞检测功能</p>
<ul>
<li>参数： [out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getsoftlimit">getSoftLimit()<a href="#getsoftlimit" class="hash-link" aria-label="Direct link to getSoftLimit()" title="Direct link to getSoftLimit()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getSoftLimit</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">limits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>获取当前软限位数值</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[out] limits 各轴软限位 [下限, 上限]，单位: 弧度</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： true - 已打开 | false - 已关闭</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setsoftlimit">setSoftLimit()<a href="#setsoftlimit" class="hash-link" aria-label="Direct link to setSoftLimit()" title="Direct link to setSoftLimit()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setSoftLimit</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> limits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">DBL_MAX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DBL_MAX</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置软限位。软限位设定要求：</p>
<ol>
<li>打开软限位时，机械臂应下电且处于手动模式;</li>
<li>软限位不能超过机械硬限位</li>
<li>机械臂当前各轴角度应在设定的限位范围内</li>
</ol>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] enabletrue - 打开 | false - 关闭。</li>
<li>[out] ec: 错误码</li>
<li>[in] limits 各轴[下限, 上限]，单位：弧度。<!-- -->
<ol>
<li>当 limits 为默认值时，视为仅打开软限位不修改数值; 不为默认值时，先修改软限位再打开</li>
<li>关闭软限位时不会修改限位数值</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="querycontrollerlog">queryControllerLog()<a href="#querycontrollerlog" class="hash-link" aria-label="Direct link to queryControllerLog()" title="Direct link to queryControllerLog()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> LogInfo </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">queryControllerLog</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">set</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> LogInfo</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Level </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>查询控制器最新的日志</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] count 查询个数，上限是 10 条</li>
<li>[in] level 指定日志等级，空集合代表不指定</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回： 日志信息</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recoverstate">recoverState()<a href="#recoverstate" class="hash-link" aria-label="Direct link to recoverState()" title="Direct link to recoverState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">recoverState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>根据选项恢复机器人状态</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] item 恢复选项，1：急停恢复</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setrailparameter">setRailParameter()<a href="#setrailparameter" class="hash-link" aria-label="Direct link to setRailParameter()" title="Direct link to setRailParameter()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typename</span><span class="token plain"> </span><span class="token class-name">R</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setRailParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> R value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置导轨参数</p>
<ul>
<li>模板参数： 参数类型</li>
<li>参数：<!-- -->
<ul>
<li>[in] name： 参数名，见 value 说明</li>
<li>[in] value：<!-- -->
<table><thead><tr><th>参数：</th><th>参数名</th><th>数据类型</th></tr></thead><tbody><tr><td>开关</td><td>enable</td><td>bool</td></tr><tr><td>基坐标系</td><td>baseFrame</td><td>Frame</td></tr><tr><td>导轨名称</td><td>name</td><td>std::string</td></tr><tr><td>编码器分辨率</td><td>encoderResolution</td><td>int</td></tr><tr><td>减速比</td><td>reductionRatio</td><td>double</td></tr><tr><td>电机最大转速(rpm)</td><td>motorSpeed</td><td>int</td></tr><tr><td>软限位(m), [下限,上限]</td><td>softLimit</td><td><code>std::vector&lt;double&gt;</code></td></tr><tr><td>运动范围(m), [下限,上限]</td><td>range</td><td><code>std::vector&lt;double&gt;</code></td></tr><tr><td>最大速度(m/s)</td><td>maxSpeed</td><td>double</td></tr><tr><td>最大加速度（m/s^2)</td><td>maxAcc</td><td>double</td></tr><tr><td>最大加加速度(m/s^3)</td><td>maxJerk</td><td>double</td></tr></tbody></table>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getrailparameter">getRailParameter()<a href="#getrailparameter" class="hash-link" aria-label="Direct link to getRailParameter()" title="Direct link to getRailParameter()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typename</span><span class="token plain"> </span><span class="token class-name">R</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getRailParameter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> R </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>读取导轨参数</p>
<ul>
<li>模板参数: 参数类型</li>
<li>参数：<!-- -->
<ul>
<li>[in] name 参数名，见 setRailParameter()</li>
<li>[out] value 参数数值，见 setRailParameter()</li>
<li>[out] ec: 错误码，参数名不存在或数据类型不匹配返回错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configntp">configNtp()<a href="#configntp" class="hash-link" aria-label="Direct link to configNtp()" title="Direct link to configNtp()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">configNtp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">server_ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>配置 NTP。非标配功能，需要额外安装</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] server_ip NTP 服务端 IP</li>
<li>[out] ec: 错误码， NTP 未正确安装，或 IP 地址格式错误</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="synctimewithserver">syncTimeWithServer()<a href="#synctimewithserver" class="hash-link" aria-label="Direct link to syncTimeWithServer()" title="Direct link to syncTimeWithServer()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">syncTimeWithServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>手动同步一次时间，远端 IP 是通过 configNtp 配置的。耗时几秒钟，阻塞等待同步完成，接口预设的超时时间是 12 秒</p>
<ul>
<li>参数： [out] ec: 错误码。NTP 服务未正确安装，或无法和服务端同步</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdkversion">sdkVersion()<a href="#sdkversion" class="hash-link" aria-label="Direct link to sdkVersion()" title="Direct link to sdkVersion()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">sdkVersion</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>查询 xCore-SDK 版本</p>
<ul>
<li>返回： 版本号</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-运动控制非实时模式">2 运动控制（非实时模式）<a href="#2-运动控制非实时模式" class="hash-link" aria-label="Direct link to 2 运动控制（非实时模式）" title="Direct link to 2 运动控制（非实时模式）">​</a></h2>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setMotionControlMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setMotionControlMode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> MotionControlMode mode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置运动控制模式</p>
<ul>
<li>注： 在调用各运动控制接口之前, 须设置对应的控制模式。</li>
<li>参数：<!-- -->
<ul>
<li>[in] mode： 模式</li>
<li>[out] ec： 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="movereset">moveReset()<a href="#movereset" class="hash-link" aria-label="Direct link to moveReset()" title="Direct link to moveReset()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">moveReset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>运动重置, 清空已发送的运动指令, 清除执行信息</p>
<ul>
<li>注解： Robot 类在初始化时会调用一次运动重置。RL 程序和 SDK 运动指令切换控制，需要先运动重置。</li>
<li>参数： [out] ec 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stop">stop()<a href="#stop" class="hash-link" aria-label="Direct link to stop()" title="Direct link to stop()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">stop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>暂停机器人运动; 暂停后可调用 moveStart()继续运动。若需要完全停止，不再执行已添加的指令，可调用moveReset()</p>
<ul>
<li>注解： 目前支持 stop2 停止类型, 规划停止不断电, 参见 StopLevel。 调用此接口后, 暂停后可调用 <code>moveStart()</code> 继续运动。若需要完全停止，不再执行已添加的指令，可调用 <code>moveReset()</code></li>
<li>参数： [out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="movestart">moveStart()<a href="#movestart" class="hash-link" aria-label="Direct link to moveStart()" title="Direct link to moveStart()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">moveStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>开始/继续运动</p>
<ul>
<li>参数： [out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="moveappend-13">moveAppend() [1/3]<a href="#moveappend-13" class="hash-link" aria-label="Direct link to moveAppend() [1/3]" title="Direct link to moveAppend() [1/3]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">moveAppend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Command</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cmds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cmdID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>添加单条或多条运动指令, 添加后调用 moveStart()开始运动</p>
<ul>
<li>模板参数： Command 运动指令类: MoveJCommand | MoveAbsJCommand | MoveLCommand | MoveCCommand | MoveCFCommand | MoveSPCommand</li>
<li>参数<!-- -->
<ul>
<li>[in] cmds 指令列表, 允许的个数为 1-100, 须为同类型的指令</li>
<li>[out] cmdID 本条指令的 ID, 可用于查询指令执行信息</li>
<li>[out] ec 错误码, 仅反馈指令发送前的错误, 包括: 1) 网络连接问题; 2) 指令个数不符;</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="moveappend-23">moveAppend() [2/3]<a href="#moveappend-23" class="hash-link" aria-label="Direct link to moveAppend() [2/3]" title="Direct link to moveAppend() [2/3]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">moveAppend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">initializer_list</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Command </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cmds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cmdID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>添加单条或多条运动指令, 添加后调用 moveStart()开始运动</p>
<ul>
<li>模板参数 Command 运动指令类: MoveJCommand | MoveAbsJCommand | MoveLCommand | MoveCCommand | MoveCFCommand | MoveSPCommand</li>
<li>参数：<!-- -->
<ul>
<li>[in] cmds 指令列表, 允许的个数为 1-100, 须为同类型的指令</li>
<li>[out] cmdID 本条指令的 ID, 可用于查询指令执行信息</li>
<li>[out] ec 错误码, 仅反馈指令发送前的错误, 包括: 1) 网络连接问题; 2) 指令个数不符;</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="moveappend-33">moveAppend() [3/3]<a href="#moveappend-33" class="hash-link" aria-label="Direct link to moveAppend() [3/3]" title="Direct link to moveAppend() [3/3]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">moveAppend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Command </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cmds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cmdID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>添加单条运动指令, 添加后调用 moveStart()开始运动</p>
<ul>
<li>模板参数： Command 运动指令类: MoveJCommand | MoveAbsJCommand | MoveLCommand | MoveCCommand | MoveCFCommand | MoveSPCommand | MoveWaitCommand</li>
<li>参数：<!-- -->
<ul>
<li>[in] cmds 指令</li>
<li>[out] cmdID 本条指令的 ID, 可用于查询指令执行信息</li>
<li>[out] ec 错误码, 仅反馈指令发送前的错误, 包括: 1) 网络连接问题; 2) 指令个数不符;</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="executecommand-12">executeCommand() [1/2]<a href="#executecommand-12" class="hash-link" aria-label="Direct link to executeCommand() [1/2]" title="Direct link to executeCommand() [1/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">executeCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">initializer_list</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Command </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cmds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>执行单条或多条运动指令，调用后机器人立刻开始运动</p>
<ul>
<li>模板参数： Command 运动指令类: MoveJCommand | MoveAbsJCommand | MoveLCommand | MoveCCommand | MoveCFCommand | MoveSPCommand;</li>
<li>参数：<!-- -->
<ul>
<li>[in] cmds 指令列表, 允许的个数为 1-1000</li>
<li>[out] ec 错误码, 仅反馈执行前的错误, 包括: 1) 网络连接问题; 2) 指令个数不符; 3) 机器人当前状态下无法运动，例如没有上电</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="executecommand-22">executeCommand() [2/2]<a href="#executecommand-22" class="hash-link" aria-label="Direct link to executeCommand() [2/2]" title="Direct link to executeCommand() [2/2]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">executeCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> Command </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cmds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>执行单条或多条运动指令，调用后机器人立刻开始运动</p>
<ul>
<li>模板参数： Command 运动指令类: MoveJCommand | MoveAbsJCommand | MoveLCommand | MoveCCommand | MoveCFCommand | MoveSPCommand;</li>
<li>参数：<!-- -->
<ul>
<li>[in] cmds 指令列表, 允许的个数为 1-1000</li>
<li>[out] ec 错误码, 仅反馈执行前的错误, 包括: 1) 网络连接问题; 2) 指令个数不符; 3) 机器人当前状态下无法运动，例如没有上电</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setdefaultspeed">setDefaultSpeed()<a href="#setdefaultspeed" class="hash-link" aria-label="Direct link to setDefaultSpeed()" title="Direct link to setDefaultSpeed()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setDefaultSpeed</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> speed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设定默认运动速度，初始值为 100</p>
<ul>
<li>注解： 该数值表示末端最大线速度(单位 mm/s), 自动计算对应关节速度</li>
<li>参数：<!-- -->
<ul>
<li>[in] speed 该接口不对参数进行范围限制。末端线速度的实际有效范围分别是 5-4000(协作), 5-7000(工业)。 关节速度百分比划分为 5 个的范围:<!-- -->
<ul>
<li>&lt; 100 : 10% ；</li>
<li>100 ~ 200 : 30% ；</li>
<li>200 ~ 500 : 50% ；</li>
<li>500 ~ 800 : 80% ；</li>
<li>
<blockquote>
<p>800 : 100%</p>
</blockquote>
</li>
</ul>
</li>
<li>[out] ec 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setdefaultzone">setDefaultZone()<a href="#setdefaultzone" class="hash-link" aria-label="Direct link to setDefaultZone()" title="Direct link to setDefaultZone()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setDefaultZone</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> zone</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设定默认转弯区</p>
<ul>
<li>注解： 该数值表示运动最大转弯区半径(单位<!-- -->:mm<!-- -->), 自动计算转弯百分比. 若不设置, 则为 0 (fine, 无转弯区)</li>
<li>参数：<!-- -->
<ul>
<li>[in] zone: 该接口不对参数进行范围限制。转弯区半径大小实际有效范围是 0-200。 转弯百分比划分 4 个范围:<!-- -->
<ul>
<li>&lt; 1 : 0 (fine) ；</li>
<li>1 ~ 20 : 10% ；</li>
<li>20 ~ 60 : 30% ；</li>
<li>
<blockquote>
<p>60 : 100%</p>
</blockquote>
</li>
</ul>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setdefaultconfopt">setDefaultConfOpt()<a href="#setdefaultconfopt" class="hash-link" aria-label="Direct link to setDefaultConfOpt()" title="Direct link to setDefaultConfOpt()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setDefaultConfOpt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> forced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置是否使用轴配置数据(confData)计算逆解。初始值为 false</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] forcedtrue -使用运动指令的 confData 计算笛卡尔点位逆解, 如计算失败则返回错误; false - 不使用，逆解时会选取机械臂当前轴角度的最近解</li>
<li>[out] ec 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setmaxcachesize">setMaxCacheSize()<a href="#setmaxcachesize" class="hash-link" aria-label="Direct link to setMaxCacheSize()" title="Direct link to setMaxCacheSize()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setMaxCacheSize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置最大缓存指令个数，指发送到控制器待规划的路径点个数，允许的范围[1,300]，初始值为 30。</p>
<ul>
<li>
<p>注解: 如果轨迹多为短轨迹，可以调大这个数值，避免因指令发送不及时导致机器人停止运动(停止后如果有未执行的指令，可 <code>moveStart()</code> 继续;</p>
</li>
<li>
<p>参数：</p>
<ul>
<li>[in] number: 个数</li>
<li>[out] ec 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adjustspeedonline">adjustSpeedOnline()<a href="#adjustspeedonline" class="hash-link" aria-label="Direct link to adjustSpeedOnline()" title="Direct link to adjustSpeedOnline()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">adjustSpeedOnline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> scale</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>动态调整机器人运动速率，非实时模式时生效。</p>
<ul>
<li>参数：<!-- -->
<ul>
<li>[in] scale: 运动指令的速度的比例，范围 0.01 - 1。当设置 scale 为 1 时，机器人将以路径原本速度运动。</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getacceleration">getAcceleration()<a href="#getacceleration" class="hash-link" aria-label="Direct link to getAcceleration()" title="Direct link to getAcceleration()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getAcceleration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">acc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">jerk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>读取当前加/减速度和加加速度</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[out] acc: 系统预设加速度的百分比</li>
<li>[out] jerk: 系统预设的加加速度的百分比</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adjustacceleration">adjustAcceleration()<a href="#adjustacceleration" class="hash-link" aria-label="Direct link to adjustAcceleration()" title="Direct link to adjustAcceleration()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">adjustAcceleration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> acc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> jerk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>调节运动加/减速度和加加速度。如果在机器人运动中调用，当前正在执行的指令不生效，下一条指令生效</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] acc: 系统预设加速度的百分比，范围[0.2, 1.5], 超出范围不会报错，自动改为上限或下限值</li>
<li>[in] jerk: 系统预设的加加速度的百分比，范围[0.1, 2], 超出范围不会报错，自动改为上限或下限值</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="seteventwatcher">setEventWatcher()<a href="#seteventwatcher" class="hash-link" aria-label="Direct link to setEventWatcher()" title="Direct link to setEventWatcher()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setEventWatcher</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Event eventType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> EventCallback </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置接收事件的回调函数</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] eventType: 事件类型</li>
<li>[in] callback: 处理事件的回调函数。说明:<!-- -->
<ol>
<li>对于Event::moveExecution, 回调函数在同一个线程执行, 请避免函数中有执行时间较长的操作;</li>
<li>Event::safety 则每次独立线程回调, 没有执行时间的限制</li>
</ol>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="queryeventinfo">queryEventInfo()<a href="#queryeventinfo" class="hash-link" aria-label="Direct link to queryEventInfo()" title="Direct link to queryEventInfo()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EventInfo rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">queryEventInfo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Event eventType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>查询事件信息。与 setEventWatcher()回调时的提供的信息相同，区别是这个接口是主动查询的方式</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] eventType: 事件类型</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回: 事件信息</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="startjog">startJog()<a href="#startjog" class="hash-link" aria-label="Direct link to startJog()" title="Direct link to startJog()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">startJog</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> JogOpt</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Space space</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> rate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> step</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> direction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>开始 jog 机器人，需要切换到手动操作模式。</p>
<ul>
<li>注解: 调用此接口并且机器人开始运动后，无论机器人是否已经自行停止，都必须调用 <code>stop()</code>来结束 jog 操作，否则机器人会一直处于 jog 的运行状态。</li>
<li>参数:<!-- -->
<ul>
<li>[in] space jog 参考坐标系。<!-- -->
<ol>
<li>工具/工件坐标系使用原则同 <code>setToolset()</code>;</li>
<li>工业六轴机型和 xMateCR/SR 六 轴 机 型 支 持 两 种 奇 异 规 避 方 式 <code>Jog：Space::singularityAvoidMode, Space::baseParallelMode</code></li>
<li>CR5 轴机型支持平行基座模式 <code>Jog：Space::baseParallelMode</code></li>
</ol>
</li>
<li>[in] rate: 速率, 范围 0.01 - 1</li>
<li>[in] step: 步长。单位: 笛卡尔空间-毫米 | 轴空间-度。步长大于 0 即可，不设置上限， 如果机器人机器人无法继续 jog 会自行停止运动。</li>
<li>[in] index 根据不同的 space，该参数含义如下：<!-- -->
<ol>
<li>世界坐标系,基坐标系,法兰坐标系,工具工件坐标系:
a) 6 轴机型: 0~5 分别对应 X, Y, Z, Rx, Ry, Rz。&gt;5 代表外部轴(若有)
b) 7 轴机型 6 代表肘关节, &gt;6 代表外部轴(若有)</li>
<li>轴空间: 关节序号，从 0 开始计数</li>
<li>奇异规避模式,平行基座模式:
a) 6 轴机型：0<del>5 分别对应 X, Y, Z, J4(4 轴), Ry, J6(6 轴);
b) 5 轴机型：0</del>4 分别对应 X, Y, Z, Ry, J5(5 轴)</li>
</ol>
</li>
<li>[in] direction 根据不同的 space 和 index，该参数含义如下：<!-- -->
<ol>
<li>奇异规避模式 J4: true - ±180° | false - 0°;</li>
<li>平行基座模式 J4 &amp; Ry: true - ±180° | false - 0°</li>
<li>其它，true - 正向 | false - 负向</li>
</ol>
</li>
<li>[out] ec 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setavoidsingularity">setAvoidSingularity()<a href="#setavoidsingularity" class="hash-link" aria-label="Direct link to setAvoidSingularity()" title="Direct link to setAvoidSingularity()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">xMateRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setAvoidSingularity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AvoidSingularityMethod method</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> limit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">StandardRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setAvoidSingularity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AvoidSingularityMethod method</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> limit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>打开/关闭奇异点规避功能。只适用于部分机型:</p>
<ol>
<li>四轴锁定: 支持工业六轴，xMateCR 和 xMateSR 六轴机型；</li>
<li>牺牲姿态: 支持所有六轴机型；</li>
<li>轴空间插补: 支持工业六轴机型</li>
</ol>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] method: 奇异规避方式</li>
<li>[in] enable: true - 打开功能 | false - 关闭。对于四轴锁定方式, 打开之前要确保 4 轴处于零位。</li>
<li>[in] limit: 不同的规避方式，该参数含义分别为:<!-- -->
<ol>
<li>牺牲姿态: 允许的姿态误差, 范围 (0, PI*2], 单位弧度</li>
<li>轴空间插补: 规避半径, 范围[0.005, 10], 单位米</li>
<li>四轴锁定: 无参数</li>
</ol>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getavoidsingularity">getAvoidSingularity()<a href="#getavoidsingularity" class="hash-link" aria-label="Direct link to getAvoidSingularity()" title="Direct link to getAvoidSingularity()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">xMateRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getAvoidSingularity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AvoidSingularityMethod method</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">StandardRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getAvoidSingularity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AvoidSingularityMethod method</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>查询是否处于规避奇异点的状态</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] method: 奇异规避的方式</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回: true - 已打开 | false – 已关闭</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getavoidsingularity-1">getAvoidSingularity()<a href="#getavoidsingularity-1" class="hash-link" aria-label="Direct link to getAvoidSingularity()" title="Direct link to getAvoidSingularity()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">xMateRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getAvoidSingularity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AvoidSingularityMethod method</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">StandardRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getAvoidSingularity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AvoidSingularityMethod method</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>查询是否处于规避奇异点的状态</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] method: 奇异规避的方式</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回: true - 已打开 | false – 已关闭</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checkpath-13">checkPath() [1/3]<a href="#checkpath-13" class="hash-link" aria-label="Direct link to checkPath() [1/3]" title="Direct link to checkPath() [1/3]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">checkPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">start_joint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>检验笛卡尔轨迹是否可达，直线轨迹。支持导轨，返回的目标轴角为轴数+外部轴数</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] start: 起始点</li>
<li>[in] start_joint: 起始轴角 [弧度]</li>
<li>[in] target: 目标点</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
<li>返回: 计算出的目标轴角，仅当无错误码时有效</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checkpath-23">checkPath() [2/3]<a href="#checkpath-23" class="hash-link" aria-label="Direct link to checkPath() [2/3]" title="Direct link to checkPath() [2/3]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">checkPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">start_joint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CartesianPosition</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">points</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">target_joint_calculated</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>校验多个直线轨迹</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] start_joint: 起始轴角，单位[弧度]</li>
<li>[in] points: 笛卡尔点位，至少需要 2 个点，第一个点是起始点</li>
<li>[out] target_joint_calculated: 若校验通过。返回计算出的目标轴角</li>
<li>[out] ec: 校验失败的原因</li>
</ul>
</li>
<li>返回: 若校验失败，返回 points 中出错目标点的下标。其它情况返回 0</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checkpath-33">checkPath() [3/3]<a href="#checkpath-33" class="hash-link" aria-label="Direct link to checkPath() [3/3]" title="Direct link to checkPath() [3/3]">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">checkPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">double</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">start_joint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">aux</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ec</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> angle </span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> MoveCFCommand</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RotType rot_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MoveCFCommand</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">constPose</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>检验笛卡尔轨迹是否可达，包括圆弧，全圆。支持导轨，返回的目标轴角为轴数+外部轴数</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] start: 起始点</li>
<li>[in] start_joint: 起始轴角 [弧度]</li>
<li>[in] aux: 辅助点</li>
<li>[in] target: 目标点</li>
<li>[out] ec: 错误码</li>
<li>[in] angle: 全圆执行角度，不等于零时代表校验全圆轨迹</li>
<li>[in] rot_type: 全圆旋转类型</li>
</ul>
</li>
<li>返回: 计算出的目标轴角，仅当无错误码时有效</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-实时运动控制">3 实时运动控制<a href="#3-实时运动控制" class="hash-link" aria-label="Direct link to 3 实时运动控制" title="Direct link to 3 实时运动控制">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getrtmotioncontroller">getRtMotionController()<a href="#getrtmotioncontroller" class="hash-link" aria-label="Direct link to getRtMotionController()" title="Direct link to getRtMotionController()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">weak_ptr</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token class-name">Cobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getRtMotionController</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">weak_ptr</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">RtMotionControlIndustrial</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">6</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token class-name">StandardRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getRtMotionController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>创建实时运动控制类实例，通过此实例指针进行实时模式相关的操作。</p>
<ul>
<li>
<p>注解: 除非重复调用此接口，客户端内部逻辑不会主动析构返回的对象，包括但不限于断开和机器人连
接 <code>disconnectFromRobot()</code>，切换到非实时运动控制模式等，但做上述操作之后再进行实时模式控制会产生异常。</p>
</li>
<li>
<p>返回: 控制器对象</p>
</li>
<li>
<p>异常:</p>
<ul>
<li><code>RealtimeControlException</code>: 创建 <code>RtMotionControl</code> 实例失败，由于网络问题</li>
<li>ExecutionException 没有切换到实时运动控制模式</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reconnectnetwork">reconnectNetwork()<a href="#reconnectnetwork" class="hash-link" aria-label="Direct link to reconnectNetwork()" title="Direct link to reconnectNetwork()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">reconnectNetwork</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>重新连接到实时控制服务器</p>
<ul>
<li>参数: [out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disconnectnetwork">disconnectNetwork()<a href="#disconnectnetwork" class="hash-link" aria-label="Direct link to disconnectNetwork()" title="Direct link to disconnectNetwork()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">disconnectNetwork</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>断开与实时控制服务器的连接，关闭数据接收和命令发送端口。但不会断开和机器人的连接。若机器人在运动，断开后立即停止运动。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setcontrolloop">setControlLoop()<a href="#setcontrolloop" class="hash-link" aria-label="Direct link to setControlLoop()" title="Direct link to setControlLoop()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Command</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setControlLoop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">function</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token function" style="color:#d73a49">Command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> priority </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> useStateDataInLoop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>使用周期调度，设置回调函数。</p>
<ul>
<li>注解:<!-- -->
<ol>
<li>回调函数应按照 1 毫秒为周期规划运动命令，规划结果为函数的返回值。SDK 对返回值进行滤波处理后发送给控制器。</li>
<li><code>JointPosition</code> 的关节角度数组长度，和 <code>Torque</code> 的关节力矩值数组长度应和机器人轴数相同。若不同不会报错，但有可能造成不合理的命令</li>
<li>一次运动循环结束时，可以通过返回的 <code>Command.setFinish()</code> 的方式来标识，SDK 内部会负责停止运动以及停止调用回调函数</li>
</ol>
</li>
<li>模板参数: JointPosition | CartesianPosition | Torque</li>
<li>参数:<!-- -->
<ul>
<li>[in] callback: 回调函数。根据控制模式(RtControllerMode)不同，函数返回值有 3 种: 关节角度/笛卡尔位姿/力矩。其中笛卡尔位姿使用旋转矩阵表示旋转量，pos 为末端相对于基坐标系的位姿。</li>
<li>[in] priority: 任务优先级, 0 为不指定。此参数仅当使用实时操作系统时生效，若无法设置会打印控制台错误信息。</li>
<li>[in] useStateDataInLoop: 是否需要在周期内读取状态数据。当设置为 true 时：<!-- -->
<ol>
<li>xCore-SDK 会在回调函数之前更新实时状态数据 <code>updateStateData()</code>,在回调函数内直接 <code>getStateData()</code> 即可;</li>
<li>状态数据的发送周期应和控制周期一致, 为 1ms: <code>startReceiveRobotState(interval = milliseconds(1))</code>;</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="startloop">startLoop()<a href="#startloop" class="hash-link" aria-label="Direct link to startLoop()" title="Direct link to startLoop()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">startLoop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> blocking </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>开始周期性执行调度任务。</p>
<ul>
<li>
<p>参数: [in] blocking: 是否阻塞调用此函数的线程。若为非阻塞线程，需调用 stopLoop()停止调度任务，否则无法开始下一次循环周期。</p>
</li>
<li>
<p>异常: <code>RealtimeControlException</code>: 命令发送网络异常; 或命令类型与控制模式不匹配; 或控制器执行已发送命令时发生错误</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stoploop">stopLoop()<a href="#stoploop" class="hash-link" aria-label="Direct link to stopLoop()" title="Direct link to stopLoop()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">stopLoop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>停止执行周期性调度任务。</p>
<ul>
<li>异常: <code>RealtimeControlException</code>: 执行过程中发生异常</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="startmove">startMove()<a href="#startmove" class="hash-link" aria-label="Direct link to startMove()" title="Direct link to startMove()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">startMove</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> RtControllerMode rtMode </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>指定控制模式，机器人准备开始运动，在每段回调执行前需要先调用此接口。 调用此接口机器人不会立即开始运动, 而是有运动命令发送后才会开始。</p>
<ul>
<li>注解:<!-- -->
<ol>
<li>在 startMove 之前应将参数依次设置好，例如滤波阻抗参数等等，设置完成后再调用 <code>startMove()</code>。 在调用 startMove 后执行其他指令可能会失败，例如下电等操作。正确停止方法是调用 stopMove;</li>
<li>如果没有通过 <code>startReceiveRobotState()</code> 设置要接收的状态数据, 调用此函数时会自动设置</li>
</ol>
</li>
<li>参数: [in] rtMode: 控制模式</li>
<li>异常:<!-- -->
<ul>
<li><code>RealtimeStateException</code>: 已经开始运动运动后重复调用</li>
<li><code>RealtimeParameterException</code>: 指定了不支持的控制模式</li>
<li><code>RealtimeControlException</code>: 控制器无法切换到该控制模式，多出现于切换到力控模式时</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stopmove">stopMove()<a href="#stopmove" class="hash-link" aria-label="Direct link to stopMove()" title="Direct link to stopMove()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">stopMove</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>机器人停止运动，停止接收客户端发送的运动指令。</p>
<ul>
<li>注解: 另外，JointPosition/CartesianPosition/Torque 指令可通过 <code>setFinished()</code> 标识一次运动循环结束，标识后会机器人停止运动， 呈现的效果和调用 <code>stopMove()</code> 一样。 此函数仅用于实时控制，不可以用于停止非实时运动指令。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="startreceiverobotstate">startReceiveRobotState()<a href="#startreceiverobotstate" class="hash-link" aria-label="Direct link to startReceiveRobotState()" title="Direct link to startReceiveRobotState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Robot_T</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">startReceiveRobotState</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">chrono</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">steady_clock</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">duration interval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> fields</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>让机器人开始发送实时状态数据。阻塞等待收到第一帧消息，超时时间为 3 秒</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] interval: 控制器发送状态数据的间隔，允许的时长：1ms/2ms/4ms/8ms/1s</li>
<li>[in] fields 接收的机器人状态数据, 最大总长度为 1024个字节。支持的数据及名称见 <code>data_types.h</code>, <code>RtSupportedFields</code></li>
</ul>
</li>
<li>异常:<!-- -->
<ul>
<li><code>RealtimeControlException</code>: 设置了不支持的状态数据；或机器人无法开始发送数据；或总长度超过 1024</li>
<li><code>RealtimeStateException</code> 已经开始发送数据；或超时后仍未收到第一帧数据</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stopreceiverobotstate">stopReceiveRobotState()<a href="#stopreceiverobotstate" class="hash-link" aria-label="Direct link to stopReceiveRobotState()" title="Direct link to stopReceiveRobotState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">stopReceiveRobotState</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>停止接收实时状态数据，同时控制器停止发送。可用于重新设置要接收的状态数据。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updaterobotstate">updateRobotState()<a href="#updaterobotstate" class="hash-link" aria-label="Direct link to updateRobotState()" title="Direct link to updateRobotState()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">updateRobotState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">chrono</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">steady_clock</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">duration timeout</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>接收一次机器人状态数据。在每周期读取数据前，需调用此函数；建议按照设定的发送频率来调用，以获取最新
的数据</p>
<ul>
<li>参数: [in] timeout: 超时时间</li>
<li>返回: 接收到的数据长度。如果超时前没有收到数据，那么返回 0。</li>
<li>异常: <code>RealtimeControlException</code>: 无法收到数据；或收到的数据有错误导致无法解析</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getstatedata">getStateData()<a href="#getstatedata" class="hash-link" aria-label="Direct link to getStateData()" title="Direct link to getStateData()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typename</span><span class="token plain"> </span><span class="token class-name">R</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">BaseRobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getStateData</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">fieldName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">R </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> data </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>读取机器人状态数据</p>
<ul>
<li>
<p>注解: 注意传入的 data 类型要和数据类型一致。</p>
</li>
<li>
<p>模板参数: R 数据类型</p>
</li>
<li>
<p>参数:</p>
<ul>
<li>[in] fieldName: 数据名</li>
<li>[out] data: 数值</li>
</ul>
</li>
<li>
<p>返回: 若无该数据名；或未通过 <code>startReceiveRobotState()</code> 设置为要接收的数据；或该数据类型和 R 不符，返回-1。 成功读取返回 0。</p>
</li>
<li>
<p>异常: <code>RealtimeStateException</code>: 网络错误</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="movej">MoveJ()<a href="#movej" class="hash-link" aria-label="Direct link to MoveJ()" title="Direct link to MoveJ()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">MoveJ</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> speed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> target </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>MoveJ 指令，上位机规划路径，在到达 target 之前处于处于阻塞状态。如果运动中发生错误将停止阻塞状态并返回。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] speed: 速度比例系数</li>
<li>[in] start: 起始关节角度，需要是机器人当前关节角度，否则可能造成下电。</li>
<li>[in] target: 机器人目标关节角度</li>
</ul>
</li>
<li>异常: <code>RealtimeMotionException</code>: 机器人运动过程中发生错误</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="movel">moveL()<a href="#movel" class="hash-link" aria-label="Direct link to moveL()" title="Direct link to moveL()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">MoveL</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> speed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> target </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>MoveL 指令，上位机规划路径，在到达 target 之前处于处于阻塞状态。如果运动中发生错误将停止阻塞状态并返回。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] speed: 速度比例系数, 范围 0 - 1</li>
<li>[in] start: 起始位姿, 需要是机器人当前位姿，否则可能造成下电。如果设置了 TCP，那么应该是工具相对于基坐标系的位姿。</li>
<li>[in] target: 机器人目标位姿。同理如果设置了 TCP，应是 TCP 相对于基坐标系的位姿</li>
</ul>
</li>
<li>异常:<!-- -->
<ul>
<li><code>RealtimeParameterException</code>: 起始或目标位姿参数错误</li>
<li><code>RealtimeMotionException</code>: 机器人运动过程中发生错误</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="movec">MoveC()<a href="#movec" class="hash-link" aria-label="Direct link to MoveC()" title="Direct link to MoveC()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">MoveC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> speed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> aux</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CartesianPosition </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> target </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>MoveC 指令，在到达 target 之前处于阻塞状态。如果运动中发生错误将停止阻塞状态并返回。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] speed: 速度比例系数</li>
<li>[in] start 机器人起始位姿, 需要是机器人当前位姿。如果设置了 TCP，那么应该是工具相对于基坐标系的位姿。</li>
<li>[in] aux: 机器人辅助点位姿。同理如果设置了 TCP，应是 TCP 相对于基坐标系的位姿</li>
<li>[in] target: 机器人目标位姿。同理如果设置了 TCP，应是 TCP 相对于基坐标系的位姿</li>
</ul>
</li>
<li>异常:<!-- -->
<ul>
<li><code>RealtimeParameterException</code>: 点位错误, 无法计算出圆弧路径</li>
<li><code>RealtimeMotionException</code>: 机器人运动过程中发生错误</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setfilterlimit">setFilterLimit()<a href="#setfilterlimit" class="hash-link" aria-label="Direct link to setFilterLimit()" title="Direct link to setFilterLimit()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setFilterLimit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> limit_rate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> cutoff_frequency </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置限幅滤波参数.</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] limit_rate: true - 限幅开启</li>
<li>[in] cutoff_frequency: 截止频率。范围是 0 ~ 1000Hz，建议 10~100Hz.</li>
</ul>
</li>
<li>返回: true - 设定成功</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setcartesianlimit">setCartesianLimit()<a href="#setcartesianlimit" class="hash-link" aria-label="Direct link to setCartesianLimit()" title="Direct link to setCartesianLimit()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setCartesianLimit</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> lengths</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置笛卡尔空间运动区域，超过设置区域运动会停止。 非力控虚拟墙。若机器人末端或 TCP 末端超过安全区域，电机同样会做下电处理。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] lengths: 安全区域长方体长宽高，对应 XYZ, 单位: 米</li>
<li>[in] frame: 安全区域长方体中心相对于基坐标系位姿</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setjointimpedance">setJointImpedance()<a href="#setjointimpedance" class="hash-link" aria-label="Direct link to setJointImpedance()" title="Direct link to setJointImpedance()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setJointImpedance</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> factor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置轴空间阻抗控制系数，轴空间阻抗运动时生效</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] factor: 轴空间阻抗系数，单位: Nm/rad。<!-- -->
<ul>
<li>xMateErPro 机型最大刚度为 <!-- -->300</li>
<li>其他机型最大刚度为 <!-- -->300<!-- -->
实际有效的最大值和传感器等硬件状态有关系，如发生抖动等现象，请尝试减小阻抗系数。</li>
</ul>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setcartesianimpedance">setCartesianImpedance()<a href="#setcartesianimpedance" class="hash-link" aria-label="Direct link to setCartesianImpedance()" title="Direct link to setCartesianImpedance()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setCartesianImpedance</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> factor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置笛卡尔空间阻抗控制系数, 笛卡尔阻抗运动时生效</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] factor: 笛卡尔空间阻抗控制系数, 最大值为 <!-- -->300<!-- -->, 单位: N/m, Nm/rad</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setcollisionbehaviour">setCollisionBehaviour()<a href="#setcollisionbehaviour" class="hash-link" aria-label="Direct link to setCollisionBehaviour()" title="Direct link to setCollisionBehaviour()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setCollisionBehaviour</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> torqueThresholds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置碰撞检测阈值。 碰撞检测只在位置控制时生效，力控时不生效。若检测到碰撞，控制器会下发下电指令，电机抱闸吸合下使能。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] torqueThresholds: 关节碰撞检测阈值。<!-- -->
<ul>
<li>xMateErPro 机型最大值为 <!-- -->20<!-- -->，</li>
<li>其他机型最大值为<!-- -->20</li>
<li>5 轴机型最大值为<!-- -->20</li>
</ul>
</li>
<li>[out] ec 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setendeffectorframe">setEndEffectorFrame()<a href="#setendeffectorframe" class="hash-link" aria-label="Direct link to setEndEffectorFrame()" title="Direct link to setEndEffectorFrame()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setEndEffectorFrame</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置末端执行器相对于机器人法兰的位姿，设置 TCP 后控制器会保存配置，机器人重启后恢复默认设置。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] frame: 末端执行器坐标系相对于法兰坐标系的齐次矩阵，单位: rad, m</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setload">setLoad()<a href="#setload" class="hash-link" aria-label="Direct link to setLoad()" title="Direct link to setLoad()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">WorkType Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Wt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setLoad</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Load </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> load</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置工具和负载的质量、质心和惯性矩阵。设置负载后控制器会保存负载配置，机器人重启后恢复默认设置。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] load: 负载信息</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setfilterfrequency">setFilterFrequency()<a href="#setfilterfrequency" class="hash-link" aria-label="Direct link to setFilterFrequency()" title="Direct link to setFilterFrequency()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setFilterFrequency</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> jointFrequency</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> cartesianFrequency</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> torqueFrequency</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置机器人控制器的滤波截止频率，用来平滑指令。允许的范围: 1 ~ 1000Hz, 建议设置为 10 ~ 100Hz。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] jointFrequency: 关节位置的滤波截止频率，单位: Hz</li>
<li>[in] cartesianFrequency: 笛卡尔空间位置的滤波截止频率，单位: Hz</li>
<li>[in] torqueFrequency: 关节力矩的滤波截止频率，单位: Hz</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setcartesianimpedancedesiredtorque">setCartesianImpedanceDesiredTorque()<a href="#setcartesianimpedancedesiredtorque" class="hash-link" aria-label="Direct link to setCartesianImpedanceDesiredTorque()" title="Direct link to setCartesianImpedanceDesiredTorque()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setCartesianImpedanceDesiredTorque</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> torque</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置末端期望力, 在笛卡尔空间阻抗运动时生效</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] torque: 笛卡尔空间末端期望力, 允许的范围为 <!-- -->30<!-- -->, 单位: N, N·m</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="settorquefiltercutofffrequency">setTorqueFilterCutOffFrequency()<a href="#settorquefiltercutofffrequency" class="hash-link" aria-label="Direct link to setTorqueFilterCutOffFrequency()" title="Direct link to setTorqueFilterCutOffFrequency()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setTorqueFilterCutOffFrequency</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> frequency</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置滤波参数</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] frequency: 允许的范围 1 ~ 1000Hz</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setfccoor">setFcCoor()<a href="#setfccoor" class="hash-link" aria-label="Direct link to setFcCoor()" title="Direct link to setFcCoor()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">short</span><span class="token plain"> DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">RtMotionControlCobot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DoF</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setFcCoor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">FrameType type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置机器人力控坐标系</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] frame: 力控坐标系相对于法兰坐标系的变换矩阵</li>
<li>[in] type: 类别, 指定哪个坐标系为力控任务坐标系, 支持:<!-- -->
<ol>
<li>世界坐标系 FrameType::world;</li>
<li>工具坐标系 FrameType::tool;</li>
<li>路径坐标系 FrameType::path (力控任务坐标系需要跟踪轨迹变化的过程)</li>
</ol>
</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="automaticerrorrecovery">automaticErrorRecovery()<a href="#automaticerrorrecovery" class="hash-link" aria-label="Direct link to automaticErrorRecovery()" title="Direct link to automaticErrorRecovery()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">MotionControl</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> MotionControlMode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">RtCommand </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">automaticErrorRecovery</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>当错误发生后，自动恢复机器人。</p>
<ul>
<li>参数: [out] ec: 错误码</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setrtnetworktolerance">setRtNetworkTolerance()<a href="#setrtnetworktolerance" class="hash-link" aria-label="Direct link to setRtNetworkTolerance()" title="Direct link to setRtNetworkTolerance()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseCobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">setRtNetworkTolerance</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> percent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>设置发送实时运动指令网络延迟阈值，即 RobotAssist - RCI 设置界面中的“包丢失阈值”。 请在切换到 RtCommand 模式前进行设置，否则不生效。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] percent: 允许的范围 0 - 100</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userciclient">useRciClient()<a href="#userciclient" class="hash-link" aria-label="Direct link to useRciClient()" title="Direct link to useRciClient()">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> rokae</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">BaseCobot</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">useRciClient</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> use</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_code </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ec </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>兼容 RCI 客户端设置的接口。通过 SDK 设置运动控制模式为实时模式之后，无法再使用原 RCI 客户端控制机器人。 若有使用原版的需求，可在切换到非实时模式后，调用此接口。然后再在 RobotAssist 上打开 RCI 功能，即可使用 RCI 客户端。</p>
<ul>
<li>参数:<!-- -->
<ul>
<li>[in] use: true - 切换到使用第一代</li>
<li>[out] ec: 错误码</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/i18n/en/docusaurus-plugin-content-docs/current/2_SDK/2_cpp/7_附录_方法.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Docs/en/docs/SDK/cpp/cpp_data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">附录 C++ 数据结构</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Docs/en/docs/SDK/python"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Python SDK</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-机器人基本操作及信息查询" class="table-of-contents__link toc-highlight">1 机器人基本操作及信息查询</a><ul><li><a href="#connecttorobot-12" class="table-of-contents__link toc-highlight">connectToRobot() [1/2]</a></li><li><a href="#connecttorobot-22" class="table-of-contents__link toc-highlight">connectToRobot() [2/2]</a></li><li><a href="#disconnectfromrobot" class="table-of-contents__link toc-highlight">disconnectFromRobot()</a></li><li><a href="#robotinfo" class="table-of-contents__link toc-highlight">robotInfo()</a></li><li><a href="#powerstate" class="table-of-contents__link toc-highlight">powerState()</a></li><li><a href="#setpowerstate" class="table-of-contents__link toc-highlight">setPowerState()</a></li><li><a href="#operatemode" class="table-of-contents__link toc-highlight">operateMode()</a></li><li><a href="#setoperatemode" class="table-of-contents__link toc-highlight">setOperateMode()</a></li><li><a href="#operationstate" class="table-of-contents__link toc-highlight">operationState()</a></li><li><a href="#posture" class="table-of-contents__link toc-highlight">posture()</a></li><li><a href="#cartposture" class="table-of-contents__link toc-highlight">cartPosture()</a></li><li><a href="#jointpos-12" class="table-of-contents__link toc-highlight">jointPos() [1/2]</a></li><li><a href="#jointpos-22" class="table-of-contents__link toc-highlight">jointPos() [2/2]</a></li><li><a href="#jointvel-12" class="table-of-contents__link toc-highlight">jointVel() [1/2]</a></li><li><a href="#jointvel-22" class="table-of-contents__link toc-highlight">jointVel() [2/2]</a></li><li><a href="#getstatelist" class="table-of-contents__link toc-highlight">getStateList()</a></li><li><a href="#jointtorque" class="table-of-contents__link toc-highlight">jointTorque()</a></li><li><a href="#baseframe" class="table-of-contents__link toc-highlight">baseFrame()</a></li><li><a href="#setbaseframe" class="table-of-contents__link toc-highlight">setBaseFrame()</a></li><li><a href="#toolset" class="table-of-contents__link toc-highlight">toolset()</a></li><li><a href="#settoolset" class="table-of-contents__link toc-highlight">setToolset()</a></li><li><a href="#settoolset-1" class="table-of-contents__link toc-highlight">setToolset()</a></li><li><a href="#calcik-12" class="table-of-contents__link toc-highlight">calcIk() [1/2]</a></li><li><a href="#calcik-22" class="table-of-contents__link toc-highlight">calcIk() [2/2]</a></li><li><a href="#calcfk" class="table-of-contents__link toc-highlight">calcFk()</a></li><li><a href="#calcfk-1" class="table-of-contents__link toc-highlight">calcFk()</a></li><li><a href="#settoolset-2" class="table-of-contents__link toc-highlight">setToolset()</a></li><li><a href="#calibrateframe-" class="table-of-contents__link toc-highlight">calibrateFrame ()</a></li><li><a href="#clearservoalarm" class="table-of-contents__link toc-highlight">clearServoAlarm()</a></li><li><a href="#enablecollisiondetection" class="table-of-contents__link toc-highlight">enableCollisionDetection()</a></li><li><a href="#disablecollisiondetection" class="table-of-contents__link toc-highlight">disableCollisionDetection()</a></li><li><a href="#getsoftlimit" class="table-of-contents__link toc-highlight">getSoftLimit()</a></li><li><a href="#setsoftlimit" class="table-of-contents__link toc-highlight">setSoftLimit()</a></li><li><a href="#querycontrollerlog" class="table-of-contents__link toc-highlight">queryControllerLog()</a></li><li><a href="#recoverstate" class="table-of-contents__link toc-highlight">recoverState()</a></li><li><a href="#setrailparameter" class="table-of-contents__link toc-highlight">setRailParameter()</a></li><li><a href="#getrailparameter" class="table-of-contents__link toc-highlight">getRailParameter()</a></li><li><a href="#configntp" class="table-of-contents__link toc-highlight">configNtp()</a></li><li><a href="#synctimewithserver" class="table-of-contents__link toc-highlight">syncTimeWithServer()</a></li><li><a href="#sdkversion" class="table-of-contents__link toc-highlight">sdkVersion()</a></li></ul></li><li><a href="#2-运动控制非实时模式" class="table-of-contents__link toc-highlight">2 运动控制（非实时模式）</a><ul><li><a href="#movereset" class="table-of-contents__link toc-highlight">moveReset()</a></li><li><a href="#stop" class="table-of-contents__link toc-highlight">stop()</a></li><li><a href="#movestart" class="table-of-contents__link toc-highlight">moveStart()</a></li><li><a href="#moveappend-13" class="table-of-contents__link toc-highlight">moveAppend() [1/3]</a></li><li><a href="#moveappend-23" class="table-of-contents__link toc-highlight">moveAppend() [2/3]</a></li><li><a href="#moveappend-33" class="table-of-contents__link toc-highlight">moveAppend() [3/3]</a></li><li><a href="#executecommand-12" class="table-of-contents__link toc-highlight">executeCommand() [1/2]</a></li><li><a href="#executecommand-22" class="table-of-contents__link toc-highlight">executeCommand() [2/2]</a></li><li><a href="#setdefaultspeed" class="table-of-contents__link toc-highlight">setDefaultSpeed()</a></li><li><a href="#setdefaultzone" class="table-of-contents__link toc-highlight">setDefaultZone()</a></li><li><a href="#setdefaultconfopt" class="table-of-contents__link toc-highlight">setDefaultConfOpt()</a></li><li><a href="#setmaxcachesize" class="table-of-contents__link toc-highlight">setMaxCacheSize()</a></li><li><a href="#adjustspeedonline" class="table-of-contents__link toc-highlight">adjustSpeedOnline()</a></li><li><a href="#getacceleration" class="table-of-contents__link toc-highlight">getAcceleration()</a></li><li><a href="#adjustacceleration" class="table-of-contents__link toc-highlight">adjustAcceleration()</a></li><li><a href="#seteventwatcher" class="table-of-contents__link toc-highlight">setEventWatcher()</a></li><li><a href="#queryeventinfo" class="table-of-contents__link toc-highlight">queryEventInfo()</a></li><li><a href="#startjog" class="table-of-contents__link toc-highlight">startJog()</a></li><li><a href="#setavoidsingularity" class="table-of-contents__link toc-highlight">setAvoidSingularity()</a></li><li><a href="#getavoidsingularity" class="table-of-contents__link toc-highlight">getAvoidSingularity()</a></li><li><a href="#getavoidsingularity-1" class="table-of-contents__link toc-highlight">getAvoidSingularity()</a></li><li><a href="#checkpath-13" class="table-of-contents__link toc-highlight">checkPath() [1/3]</a></li><li><a href="#checkpath-23" class="table-of-contents__link toc-highlight">checkPath() [2/3]</a></li><li><a href="#checkpath-33" class="table-of-contents__link toc-highlight">checkPath() [3/3]</a></li></ul></li><li><a href="#3-实时运动控制" class="table-of-contents__link toc-highlight">3 实时运动控制</a><ul><li><a href="#getrtmotioncontroller" class="table-of-contents__link toc-highlight">getRtMotionController()</a></li><li><a href="#reconnectnetwork" class="table-of-contents__link toc-highlight">reconnectNetwork()</a></li><li><a href="#disconnectnetwork" class="table-of-contents__link toc-highlight">disconnectNetwork()</a></li><li><a href="#setcontrolloop" class="table-of-contents__link toc-highlight">setControlLoop()</a></li><li><a href="#startloop" class="table-of-contents__link toc-highlight">startLoop()</a></li><li><a href="#stoploop" class="table-of-contents__link toc-highlight">stopLoop()</a></li><li><a href="#startmove" class="table-of-contents__link toc-highlight">startMove()</a></li><li><a href="#stopmove" class="table-of-contents__link toc-highlight">stopMove()</a></li><li><a href="#startreceiverobotstate" class="table-of-contents__link toc-highlight">startReceiveRobotState()</a></li><li><a href="#stopreceiverobotstate" class="table-of-contents__link toc-highlight">stopReceiveRobotState()</a></li><li><a href="#updaterobotstate" class="table-of-contents__link toc-highlight">updateRobotState()</a></li><li><a href="#getstatedata" class="table-of-contents__link toc-highlight">getStateData()</a></li><li><a href="#movej" class="table-of-contents__link toc-highlight">MoveJ()</a></li><li><a href="#movel" class="table-of-contents__link toc-highlight">moveL()</a></li><li><a href="#movec" class="table-of-contents__link toc-highlight">MoveC()</a></li><li><a href="#setfilterlimit" class="table-of-contents__link toc-highlight">setFilterLimit()</a></li><li><a href="#setcartesianlimit" class="table-of-contents__link toc-highlight">setCartesianLimit()</a></li><li><a href="#setjointimpedance" class="table-of-contents__link toc-highlight">setJointImpedance()</a></li><li><a href="#setcartesianimpedance" class="table-of-contents__link toc-highlight">setCartesianImpedance()</a></li><li><a href="#setcollisionbehaviour" class="table-of-contents__link toc-highlight">setCollisionBehaviour()</a></li><li><a href="#setendeffectorframe" class="table-of-contents__link toc-highlight">setEndEffectorFrame()</a></li><li><a href="#setload" class="table-of-contents__link toc-highlight">setLoad()</a></li><li><a href="#setfilterfrequency" class="table-of-contents__link toc-highlight">setFilterFrequency()</a></li><li><a href="#setcartesianimpedancedesiredtorque" class="table-of-contents__link toc-highlight">setCartesianImpedanceDesiredTorque()</a></li><li><a href="#settorquefiltercutofffrequency" class="table-of-contents__link toc-highlight">setTorqueFilterCutOffFrequency()</a></li><li><a href="#setfccoor" class="table-of-contents__link toc-highlight">setFcCoor()</a></li><li><a href="#automaticerrorrecovery" class="table-of-contents__link toc-highlight">automaticErrorRecovery()</a></li><li><a href="#setrtnetworktolerance" class="table-of-contents__link toc-highlight">setRtNetworkTolerance()</a></li><li><a href="#userciclient" class="table-of-contents__link toc-highlight">useRciClient()</a></li></ul></li></ul></div></div></div><div class="float-btn-container back-to-top"><button aria-label="回到顶部" class="float-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" width="25" height="25"><path fill="#31373D" d="M25.711 10.867 18.779.652c-.602-.885-1.558-.867-2.127.037l-6.39 10.141c-.569.904-.181 1.644.865 1.644H13V16a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3.525h1.898c1.047 0 1.414-.723.813-1.608M3.651 23.575H1.438c-.975 0-1.381-.712-1.381-1.401 0-.71.508-1.399 1.381-1.399h7.469c.874 0 1.381.689 1.381 1.399 0 .69-.406 1.401-1.381 1.401H6.696v10.189c0 1.016-.649 1.584-1.522 1.584s-1.522-.568-1.522-1.584zM10.396 28c0-4.222 2.841-7.471 6.982-7.471 4.079 0 6.983 3.351 6.983 7.471 0 4.201-2.821 7.471-6.983 7.471-4.121 0-6.982-3.27-6.982-7.471m10.798 0c0-2.456-1.279-4.67-3.816-4.67s-3.816 2.214-3.816 4.67c0 2.476 1.239 4.668 3.816 4.668s3.816-2.192 3.816-4.668m4.433-5.644c0-.954.569-1.582 1.585-1.582h3.591c2.985 0 5.197 1.947 5.197 4.851 0 2.963-2.293 4.811-5.074 4.811h-2.253v3.329c0 1.016-.649 1.584-1.521 1.584-.874 0-1.524-.568-1.524-1.584V22.356zm3.046 5.4h2.071c1.277 0 2.089-.934 2.089-2.151 0-1.219-.812-2.152-2.089-2.152h-2.071z"></path></svg></button></div><div class="float-btn-container download-pdf-btn"><button title="下载 PDF" class="float-btn">🖨️</button></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Docs/en/docs">HMI Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/Docs/en/docs">SDK Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社群</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Docs/en/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>